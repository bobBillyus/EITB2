<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>EITB2</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>

    <div class="container">
        <main class="main-content">
            <h1>EITB2</h1>
            <p>ahhhhhh</p>
            <form action="/" method="POST">
                <label for="wiki_query">Enter any Wikipedia page:</label>
                <input 
                    type="text" 
                    id="wiki_query" 
                    name="wiki_page" 
                    placeholder="Search Wikipedia..." 
                    required
                >
                <button type="submit">Search</button>
            </form>

            <hr>

            {# Status Messages #}
            {% if message %}
                <p><strong>{{ message }}</strong></p>
            {% endif %}

            {# Suggestions if page not found #}
            {% if suggestions %}
                <p>Page not found. Did you mean:</p>
                <ul>
                    {% for s in suggestions %}
                        <li>{{ s }}</li>
                    {% endfor %}
                </ul>
            {% endif %}

            {# Graph Section - Placed outside of results logic #}
            {% if query %}
                <div class="graph-box" style="margin-top: 20px;">
                    <iframe 
                        src="/graph/?name={{ query }}" 
                        style="width: 100%; height: 600px; border: 1px solid #ccc; border-radius: 8px;">
                    </iframe>
                </div>
            {% else %}
                <p>The graph will appear here after your first search.</p>
            {% endif %}
        </main>

        <aside class="sidebar">
            <div class="titlebar">
                <h3>What is this?</h3>
            </div>
            <h2>der sidebar</h2>
            <p>more ahh</p>
        </aside>
    </div>

</body>
</html>